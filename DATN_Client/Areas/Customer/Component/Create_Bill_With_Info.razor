<style>
    .paymentMethods {
        border: 1px solid #A09F9E;
        padding: 20px 30px 20px 30px;
        border-radius: 5px;
    }

    .titleCOD {
        font-size: 14px;
        padding: 10px 5px 10px 5px;
        border: 1px solid #A09F9E;
        background-color: #fdf4ed;
        border-radius: 5px;
    }

    .btnSuccesBill {
        background-color: #7dccff;
        color: #f2faff;
        padding: 15px 20px;
        border: none;
        border-radius: 5px;
        margin-top: 25px;
    }

        .btnSuccesBill:hover {
            background-color: #64a3cc;
            color: #fff;
        }

    .img_Ab {
        position: absolute;
        background-color: #949491;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        text-align: center;
        top: -10px;
        right: -10px;
        color: #fff;
        opacity:0.8;
    }

    .countPrice{
        width:70%;
        display:flex;
        justify-content:space-between;
        margin-top:auto;
        margin-bottom:auto;

    }
</style>
<div class=" row">
    <div class="col-md-6">
        <h4 style="padding-left:100px">Thông tin giao hàng</h4>
        <EditForm Model="_bill_vm">
            <div class="col-12" style="padding-left:100px;margin-top:20px">
                <div style="display:flex;">
                    <img src="/img/avartar_user.png" style="width:8%;margin-right:20px" />
                    <div>
                        <label>@_user_vm.UserName (@_user_vm.Email)</label><br />
                        <a href="facebook.com">Đăng xuất</a>
                    </div>
                </div>
                <div style="margin-top:15px">
                    <input type="text" class="form-control" @bind-value="_bill_vm.Recipient" placeholder="Tên người nhận" />
                </div>

                <div style="margin-top:15px">
                    <input type="text" class="form-control" @bind-value="_user_vm.PhoneNumber" placeholder="Số điện thoại" />
                </div>

                <div class="col-12" style="margin-top:15px">
                    <input type="text" class="form-control" @bind-value="_bill_vm.ToAddress" placeholder="Địa chỉ chi tiết" />
                </div>
                <div class="row" style="margin-top:15px">
                    <div class="col-4">
                        <InputSelect class="form-select" @bind-Value="@_bill_vm.Province">
                            <option value="Hà Nội" selected>--Tỉnh/Thành phố--</option>
                        </InputSelect>
                    </div>
                    <div class="col-4">
                        <InputSelect class="form-select" @bind-Value="@_bill_vm.District">
                            <option value="Hoài Đức" selected>--Quận/Huyện/Thị xã--</option>
                        </InputSelect>
                    </div>
                    <div class="col-4">
                        <InputSelect class="form-select" @bind-Value="@_bill_vm.WardName">
                            <option value="Đức Giang" selected>--Phường/Xã--</option>
                        </InputSelect>
                    </div>

                </div>
                <div style="margin-top:15px">
                    <InputTextArea class="form-control" @bind-Value="_bill_vm.Note" placeholder="Ghi chú" />
                </div>
                <div class="paymentMethods" style="margin-top:15px">
                    <InputRadioGroup @bind-Value="_bill_vm.PaymentMethodId" class="form-control">
                        <InputRadio Value="@Guid.Parse("7485dc76-780a-4008-9ddf-f583ab97a30d")" />
                        <span>Thanh toán khi nhận hàng (COD)</span>
                        <br />
                        @if (_bill_vm.PaymentMethodId == @Guid.Parse("7485dc76-780a-4008-9ddf-f583ab97a30d"))
                        {
                            <div>
                                <p class="titleCOD">
                                    1. Khi click vào nút hoàn tất đơn hàng thì đơn hàng sẽ được hệ thống tự động xác nhận mà không cần phải gọi qua điện thoại, nếu điền thông tin địa chỉ và số điện thoại chính xác thì đơn hàng sẽ được vận chuyển từ 3-4-5 ngày tùy vùng miền.
                                    2. Trường hợp đặt hàng xong nhưng muốn HỦY ĐƠN, vui lòng soạn tin nhắn theo cú pháp: SĐT ĐÃ ĐẶT ĐƠN (hoặc MÃ ĐƠN hoặc GMAIL ĐƠN HÀNG) + TÊN NGƯỜI NHẬN sau đó gửi qua các kênh online: Page Facebook, Intagram. Nhân viên check tin nhắn sẽ xử lý hủy giúp Quý KH.
                                </p>
                            </div>
                        }
                        else
                        {
                            <div>
                            </div>
                        }
                        <InputRadio Value="@Guid.Parse("58431a43-d36b-4ab1-af0e-402238c87402")" />
                        <span>Momo</span>
                    </InputRadioGroup>
                </div>
                <div style="display:flex;justify-content:space-between;align-items:center">
                    <div>
                        <a style="color:#7dccff;cursor:pointer;" @onclick="ReturnCart">Giỏ hàng</a>
                    </div>
                    <button class="btnSuccesBill" @onclick="Btn_DatHang">
                        Hoàn tất đơn hàng
                    </button>
                </div>
            </div>
        </EditForm>
    </div>
    <div class="col-md-6">
        @foreach (var x in _lstCI)
        {
            var img = _lstImg.Where(c => c.ProductItemId == x.ProductItemId).OrderBy(c => c.STT).Select(c => c.PathImage).FirstOrDefault();
            _pi_s_vm = _lstPrI_show_VM.Where(c => c.Id == x.ProductItemId).FirstOrDefault();
            <div style="display:flex;">
                <div style="display:flex;">
                    <div style="position:relative">
                        <img src="/images/@img" alt="" style="width:90px;height:90px;border-radius:8px">
                        <div class="img_Ab">@x.Quantity</div>
                    </div>
                    <div style="display:flex; justify-content:space-between;flex-direction:column;height:60%;margin-top:auto;margin-bottom:auto;margin-left:20px">
                        <label>@_pi_s_vm.Name</label>
                        <div style="display:flex; justify-content:space-between;flex-direction:column;font-size:12px">
                            <label>@_pi_s_vm.SizeName</label>
                            <label>@_pi_s_vm.ColorName</label>
                        </div>
                    </div>
                </div>
                <div style="margin-top:auto;margin-bottom:auto;font-size:14px;margin-left:80px">
                    @((x.Quantity * _pi_s_vm.CostPrice)?.ToString("#,##0")) đ
                </div>
            </div>
            <div style="width:70%;height:1px;background-color:#000;margin-top:10px ">
            </div>

        }
        <div class="countPrice">
            <label>Tạm tính </label>
            <label>@(_tongTienHang?.ToString("#,##0")) đ</label>         
        </div>
        <div><h4>Tổng cộng @(_tongTienHang?.ToString("#,##0")) đ</h4> </div>       
    </div>
</div>